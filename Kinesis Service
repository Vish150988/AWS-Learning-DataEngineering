# Amazon Kinesis

## What is Kinesis?

Amazon Kinesis is a **fully managed data streaming service** that allows you to process and analyze streaming data in real time.

Kinesis is a **family of services** consisting of:

- **Kinesis Data Streams** â€” stream and store data
- **Kinesis Data Firehose** â€” deliver data to storage or processing services
- **Kinesis Video Streams** â€” stream video from connected devices
- **Managed Service for Apache Flink** â€” process data using code or SQL

These services aid in the **collection, delivery, and analytics** of streaming data, and integrate with both AWS and third-party services with minimal effort.

---

## Kinesis Data Streams

A **serverless** way to stream and store data.

### Core Concepts

| Concept | Description |
|---|---|
| **Stream** | A sequence of ordered **Shards** |
| **Shard** | A container holding data records |
| **Data Record** | Contains a sequence number, partition key, and a data blob (up to **1 MB**) |

### Two Sides of a Stream

**Data Producers** â€” Applications that ingest incoming data into a stream in near real-time.

**Data Consumers** â€” Applications that take the collected data and process or store it.

---

## Architecture: Data Flow

```
Data Producer  â†’  Kinesis  â†’  Data Consumer
```

### Data Producers
- IoT devices
- Log / event generators
- External applications
- Servers or containers

### Kinesis (Processing Layer)
- Kinesis Data Streams
- Kinesis Data Firehose

### Data Consumers
- Amazon S3
- Amazon Redshift
- Third-party software

---

## Kinesis Data Firehose

A **Delivery Stream** service that:

- Allows you to send data from AWS services or third-party services
- Lets you store data or send it to other services for further processing

---

## Managed Service for Apache Flink (Data Analytics)

- Use **programming languages or SQL** to process your streaming data
- Use **notebooks** to run interactive commands against your data

---

## Use Cases

- ðŸ” Anomaly detection in IoT
- ðŸ“‹ Log processing for machine learning
- ðŸ”Ž Pattern detection
- ðŸ–±ï¸ Click stream analysis

---

## Benefits of Kinesis

- âœ… Fully managed service
- âœ… Serverless â€” no infrastructure to manage
- âœ… Captures streaming data in **near real-time**
- âœ… Built-in **auto-scaling**

---

## Kinesis vs SQS

| Feature | Kinesis | SQS |
|---|---|---|
| **Data Retention** | 24 hours (default) up to **365 days** | 1 minute to **14 days** |
| **Consumers** | Supports **multiple consumers** of the same records | **Single consumer** â€” message is deleted after reading |
| **Ordering** | In-order within a shard; no cross-shard ordering guarantee | Standard: no guarantee; **FIFO: ordered** (with limitations) |
| **Routing** | Related records can be routed to the **same processor** | Does not support routing |

> **Note:** AWS Kinesis Data Streams has a default retention period of **24 hours**. The 7-day retention option helps resolve downstream data issues. Long-term retention can be extended up to **365 days**.

---

## Kinesis vs Kafka

| Feature | Kinesis | Kafka |
|---|---|---|
| **Configurability** | Limited â€” simpler write configuration | Highly configurable for data delivery |
| **Cost Model** | Cloud-native, **pay-as-you-go** â€” lower operational cost | Requires more engineering hours â€” higher overall cost |
| **Implementation** | Easy â€” setup in a **few clicks** | Heavy lifting required for setup, use, and maintenance |
| **Hosting** | Fully managed by AWS | Self-managed (or managed via Confluent, MSK, etc.) |
